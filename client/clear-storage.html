<!doctype html>
<html>
  <head>
    <title>X√≥a LocalStorage</title>
    <meta charset="UTF-8" />
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .box {
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      button {
        background: #ee4d2d;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
      }
      button:hover {
        background: #d73211;
      }
      .info {
        background: #f0f0f0;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
        font-family: monospace;
        font-size: 14px;
      }
      .success {
        color: green;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="box">
      <h1>üóëÔ∏è X√≥a D·ªØ Li·ªáu LocalStorage</h1>
      <p>
        C√¥ng c·ª• n√†y gi√∫p x√≥a t·∫•t c·∫£ d·ªØ li·ªáu r√°c trong localStorage c·ªßa ·ª©ng d·ª•ng.
      </p>

      <button onclick="showStorage()">üìã Xem D·ªØ Li·ªáu Hi·ªán T·∫°i</button>
      <button onclick="clearUsersOnly()">üóëÔ∏è X√≥a Ch·ªâ Users</button>
      <button onclick="clearAll()">üí£ X√≥a T·∫•t C·∫£</button>

      <div id="output" class="info" style="display: none"></div>
    </div>

    <script>
      function showStorage() {
        const output = document.getElementById("output");
        let html = "<h3>üìä D·ªØ li·ªáu trong LocalStorage:</h3>";

        const keys = [
          "users",
          "products",
          "topSearch",
          "topProducts",
          "categories",
          "flashSaleProducts",
        ];

        keys.forEach((key) => {
          const data = localStorage.getItem(key);
          if (data) {
            try {
              const parsed = JSON.parse(data);
              const count = Array.isArray(parsed) ? parsed.length : "N/A";
              html += `<div><strong>${key}:</strong> ${count} items</div>`;
            } catch (e) {
              html += `<div><strong>${key}:</strong> Kh√¥ng parse ƒë∆∞·ª£c</div>`;
            }
          } else {
            html += `<div><strong>${key}:</strong> Tr·ªëng</div>`;
          }
        });

        output.innerHTML = html;
        output.style.display = "block";
      }

      function clearUsersOnly() {
        localStorage.removeItem("users");
        const output = document.getElementById("output");
        output.innerHTML =
          '<div class="success">‚úÖ ƒê√£ x√≥a users t·ª´ localStorage!</div><div>H√£y refresh l·∫°i trang web.</div>';
        output.style.display = "block";
      }

      function clearAll() {
        if (confirm("‚ö†Ô∏è B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a T·∫§T C·∫¢ d·ªØ li·ªáu?")) {
          localStorage.clear();
          const output = document.getElementById("output");
          output.innerHTML =
            '<div class="success">‚úÖ ƒê√£ x√≥a T·∫§T C·∫¢ d·ªØ li·ªáu trong localStorage!</div><div>H√£y refresh l·∫°i trang web.</div>';
          output.style.display = "block";
        }
      }
    </script>
  </body>
</html>
